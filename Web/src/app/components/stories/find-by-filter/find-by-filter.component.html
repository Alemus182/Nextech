<div class="stories-rate-limit-reached">
    Find by Filters
  </div>
  <br>

  <form novalidate [formGroup]="searchForm">
    <div class="row">
      <div class="col-2">
        <mat-label>Type of Search</mat-label>
        <mat-radio-group formControlName="isCategory"  aria-label="Select an option">
          <mat-radio-button [value]="true" (change)="ChangeFilter($event)">Category</mat-radio-button>
          <mat-radio-button [value]="false" (change)="ChangeFilter($event)">Id</mat-radio-button>
        </mat-radio-group>
      </div>
      <div *ngIf="searchForm.get('isCategory').value == false  && searchForm.dirty" class="col-2">
        <mat-form-field>
          <mat-label>Id</mat-label>
          <input matInput type="number" formControlName="id" >
        </mat-form-field>
      </div>
      <div  *ngIf="searchForm.get('isCategory').value" class="col-2">
        <mat-form-field appearance="fill">
          <mat-label>Choose one</mat-label>
          <mat-select formControlName="category">
            <mat-option>Clear</mat-option>
            <mat-option value="topstories">Top stories</mat-option>
            <mat-option value="beststories">Best Stories</mat-option>
            <mat-option value="askstories">Ask Stories</mat-option>
            <mat-option value="showstories">Show Stories</mat-option>
            <mat-option value="jobstories">Jobs Stories</mat-option>
          </mat-select>        
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-2">
        <button type="submit" class='btn btn-primary pull-left' (click)="Find();" >Find Stories</button>
      </div>
    </div>
  </form>
 

 
   <div class="stories-table-container">
        <table mat-table [dataSource]="dataSource" class="stories-table">
  
            <!-- Number Column -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef>Title</th>
              <td mat-cell *matCellDef="let row">{{row.title}}</td>
            </ng-container>
      
            <!-- Title Column -->
            <ng-container matColumnDef="url">
              <th mat-header-cell *matHeaderCellDef>Url</th>
              <td mat-cell *matCellDef="let row">
                <a *ngIf="row.url" href="{{row.url}}" target="_blank">Visit</a>
              </td>
            </ng-container>
          
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let storyrow; columns: displayedColumns"></tr>
       </table>
       <mat-progress-bar mode="indeterminate" *ngIf="isLoadingResults"></mat-progress-bar>
       <mat-paginator #paginator 
       [pageSize]="pageSize" 
       [pageSizeOptions]="[200]" 
       [showFirstLastButtons]="true" 
       [length]="totalSize"
       [pageIndex]="currentPage" 
       (page)="handlePage($event)">
   </mat-paginator>
  </div>